<div class="login" id="login-from">
    <div class="overlayBackground">
        <img src="assets/images/login/bg-image.png" alt="">
    </div>
    <div class="overlayBottomBar">
        <div class="d-flex justify-content-center ml-4 mb-2 align-items-center">
            <ng-container *ngTemplateOutlet="MOROCCO_FLAG"></ng-container>
            <div class="text-white ml-2 font-size-9">#MadeInMorocco</div>
        </div>
        <ng-container *ngTemplateOutlet="BOTTOM_BAR"></ng-container>
    </div>
    <div class="overlayTopBar">
        <ng-container *ngTemplateOutlet="TOP_BAR"></ng-container>
    </div>
    <div class="spinnerContainer" *ngIf="isLoading">
        <mat-spinner class="spinner"></mat-spinner>
    </div>
    <div class="block_login justify-content-center">
        <div class="d-flex justify-content-center align-items-center flex-column w-100">
            <div class="short__logo">
                <ng-container *ngIf="envirement === 'frmf'">
                    <ng-container *ngTemplateOutlet="FRMF_SHORT"></ng-container>
                </ng-container>
                <ng-container *ngIf="envirement === 'pro'">
                    <ng-container *ngTemplateOutlet="PRO_SHORT"></ng-container>
                </ng-container>
            </div>
            <div class="loginContainer col-md-6" [ngClass]="{'loginContainerbg': envirement === 'pro'}">
                <form (submit)="onLogin()" #loginForm="ngForm" class="loginForm">
                    <mat-form-field class="form-group w-100" appearance="outline">
                        <div class="d-flex justify-content-start row-elements flex-grow-1 align-items-center">
                            <div class="mr-2 input_transform"><ng-container
                                    *ngTemplateOutlet="ICON_EMAIL"></ng-container>
                            </div>
                            <div class="text-black  flex-grow-1"><input placeholder="Email" matInput
                                    class="formInput input_transform" ngModel email required name="email"
                                    #email="ngModel" /></div>
                        </div>

                        <mat-error *ngIf="email.invalid && email.touched">
                            Email n'est pas valide
                        </mat-error>
                    </mat-form-field>
                    <mat-form-field class="form-group w-100" appearance="outline">
                        <div class="d-flex justify-content-between row-elements align-items-center ">
                            <div class="d-flex justify-content-start  flex-grow-1 align-items-center">
                                <div class="mr-2  input_transform"><ng-container
                                        *ngTemplateOutlet="ICON_PASSWORD"></ng-container>
                                </div>
                                <div class="text-black flex-grow-1 "> <input placeholder="Mot de passe"
                                        [type]="typePassword ? 'password' : 'text'" matInput
                                        class="formInput input_transform" ngModel required name="password"
                                        #password="ngModel" /></div>
                            </div>

                            <div role="button" class="ml-2 see-psw mr-2  flex-grow-0">
                                <i (click)="typePassword = !typePassword " class="fas "
                                    [ngClass]="{'fa-eye': typePassword , 'fa-eye-slash' : !typePassword }"
                                    style="color:#000;"></i>
                            </div>
                        </div>
                        <mat-error *ngIf="password.invalid && password.touched">
                            Mot de passe n'est pas valide
                        </mat-error>
                    </mat-form-field>
                    <button mat-raised-button class="loginButton" [ngClass]="{'loginButtonPro':  envirement === 'pro'}"
                        type="submit" color="primary">
                        Se Connecter
                    </button>
                    <div class="error__message " *ngIf="errorMessage !== '' && !isLoading  "><i
                            class="fas fa-exclamation-circle mr-2"></i><small>{{ errorMessage | uppercase}}
                        </small>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="center">
        <div id="social-test">
            <ul class="social">
                <li><a href="https://www.facebook.com/myteamsolution/" target="_blank"><i class="fab fa-facebook"
                            aria-hidden="true"></i></a></li>
                <li><a href="https://ma.linkedin.com/company/myteam-solution" target="_blank"><i
                            class="fab fa-linkedin-in" aria-hidden="true"></i></a></li>
                <li><a href="https://api.whatsapp.com/send/?phone=212719056000&text=Bonjour" target="_blank"><i
                            class="fab fa-whatsapp" aria-hidden="true"></i></a>
                </li>
                <li><a href="https://www.youtube.com/@myteam5333" target="_blank"><i class="fab fa-youtube"
                            aria-hidden="true"></i></a></li>
            </ul>
        </div>
    </div>
</div>

<ng-template #BOTTOM_BAR>
    <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        x="0px" y="0px" viewBox="0 0 441.1 26" style="enable-background:new 0 0 441.1 26;" xml:space="preserve">
        <g>
            <path [attr.fill]="envirement === 'frmf' ? '#E30613' : '#989898'"
                d="M53.3,26c0,0,206.1-51.5,387.8,0C326.1,26,53.3,26,53.3,26z" />
            <path [attr.fill]="envirement === 'frmf' ? '#FFFFFF' : '#000'"
                d="M99.5,26c0,0,181.6-51.5,341.6,0C339.8,26,99.5,26,99.5,26z" />
            <path [attr.fill]="envirement === 'frmf' ? 'var(--primary-color)' : 'var(--secondary-color)'"
                d="M128.6,26c0,0,166.1-45.3,312.5,0C348.4,26,128.6,26,128.6,26z" />
        </g>
    </svg>
</ng-template>

<ng-template #TOP_BAR>
    <svg version="1.1" id="Calque_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
        x="0px" y="0px" viewBox="0 0 441.1 26" style="enable-background:new 0 0 441.1 26;" xml:space="preserve">
        <g>
            <path [attr.fill]="envirement === 'frmf' ? '#E30613' : '#989898'"
                d="M441.1,0c0,0-234.5,58.6-441.1,0C130.9,0,441.1,0,441.1,0z" />
            <path [attr.fill]="envirement === 'frmf' ? '#FFFFFF' : '#000'"
                d="M388.6,0C388.6,0,182,58.5,0,0C115.3,0,388.6,0,388.6,0z" />
            <path [attr.fill]="envirement === 'frmf' ? 'var(--primary-color)' : 'var(--secondary-color)'"
                d="M355.5,0c0,0-189,51.5-355.5,0C105.5,0,355.5,0,355.5,0z" />
        </g>
    </svg>
</ng-template>

<ng-template #ICON_PASSWORD>
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px"
        height="20px" viewBox="0,0,256,256">
        <g fill="#000000" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
            stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none"
            font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal">
            <g transform="scale(5.12,5.12)">
                <path
                    d="M25,2c-7.16752,0 -13,5.83248 -13,13v6h-4c-1.64497,0 -3,1.35503 -3,3v23c0,1.64497 1.35503,3 3,3h34c1.64497,0 3,-1.35503 3,-3v-23c0,-1.64497 -1.35503,-3 -3,-3h-4v-6c0,-7.16752 -5.83248,-13 -13,-13zM25,4c6.08648,0 11,4.91352 11,11v6h-22v-6c0,-6.08648 4.91352,-11 11,-11zM8,23h34c0.56503,0 1,0.43497 1,1v23c0,0.56503 -0.43497,1 -1,1h-34c-0.56503,0 -1,-0.43497 -1,-1v-23c0,-0.56503 0.43497,-1 1,-1zM13,34c-1.10457,0 -2,0.89543 -2,2c0,1.10457 0.89543,2 2,2c1.10457,0 2,-0.89543 2,-2c0,-1.10457 -0.89543,-2 -2,-2zM21,34c-1.10457,0 -2,0.89543 -2,2c0,1.10457 0.89543,2 2,2c1.10457,0 2,-0.89543 2,-2c0,-1.10457 -0.89543,-2 -2,-2zM29,34c-1.10457,0 -2,0.89543 -2,2c0,1.10457 0.89543,2 2,2c1.10457,0 2,-0.89543 2,-2c0,-1.10457 -0.89543,-2 -2,-2zM37,34c-1.10457,0 -2,0.89543 -2,2c0,1.10457 0.89543,2 2,2c1.10457,0 2,-0.89543 2,-2c0,-1.10457 -0.89543,-2 -2,-2z">
                </path>
            </g>
        </g>
    </svg>
</ng-template>
<ng-template #ICON_EMAIL>
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25px"
        height="25px" viewBox="0,0,256,256">
        <g fill="#000" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter"
            stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none"
            font-size="none" text-anchor="none" style="mix-blend-mode: normal">
            <g transform="scale(2,2)">
                <path
                    d="M107,74v-10c0,-11.8 -4.9,-23.2 -13.6,-31.3c-8.7,-8.2 -20.2,-12.3 -32.2,-11.6c-21.6,1.3 -38.8,18.6 -40.2,40.2c-0.7,12 3.4,23.4 11.6,32.2c8.2,8.6 19.6,13.5 31.4,13.5c1.7,0 3,-1.3 3,-3c0,-1.7 -1.3,-3 -3,-3c-10.3,0 -19.9,-4.1 -27,-11.7c-7,-7.5 -10.6,-17.3 -9.9,-27.7c1.2,-18.6 16,-33.4 34.6,-34.6c10.3,-0.6 20.1,3 27.6,10c7.5,7.1 11.7,16.6 11.7,27v10c0,3.9 -3.1,7 -7,7c-3.9,0 -7,-3.1 -7,-7v-10c0,-12.7 -10.3,-23 -23,-23c-12.7,0 -23,10.3 -23,23c0,12.7 10.3,23 23,23c7.2,0 13.6,-3.3 17.8,-8.5c1.9,5 6.6,8.5 12.2,8.5c7.2,0 13,-5.8 13,-13zM64,81c-9.4,0 -17,-7.6 -17,-17c0,-9.4 7.6,-17 17,-17c9.4,0 17,7.6 17,17c0,9.4 -7.6,17 -17,17z">
                </path>
            </g>
        </g>
    </svg>
</ng-template>
<ng-template #FRMF_SHORT>
    <div mat-list-item class="d-flex justify-content-center align-items-center"><img width="100%"
            [src]="'assets/images/icon-logo.png'" class="sideLogo" alt="" /></div>
</ng-template>
<ng-template #PRO_SHORT>

    <div mat-list-item class="h--40 d-flex justify-content-center align-items-center">
        <svg version="1.0" id="Calque_1" xmlns="http://www.w3.org/2000/svg" width="100px" height="100px"
            xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 90 114"
            enable-background="new 0 0 90 114" xml:space="preserve">
            <g>
                <g>
                    <path fill="var(--secondary-myteam-color )" d="M23,103.6v5.4h-3.2V94h9.4c0.8,0,1.5,0.2,2,0.5c0.5,0.3,1,0.7,1.3,1.2c0.3,0.5,0.6,1.1,0.7,1.7
           c0.1,0.6,0.2,1.3,0.2,2c0,0.6-0.1,1.1-0.3,1.7c-0.2,0.5-0.5,1-0.9,1.4c-0.4,0.4-0.8,0.7-1.4,0.9c-0.5,0.2-1.1,0.3-1.7,0.3H23z
            M30.3,99.4v-1.1c0-0.3-0.1-0.5-0.3-0.8c-0.2-0.2-0.5-0.3-0.8-0.3H23v3.2h6.2c0.3,0,0.5-0.1,0.8-0.3
           C30.2,99.9,30.3,99.7,30.3,99.4z" />
                    <path fill="var(--secondary-myteam-color )"
                        d="M44.6,103.6h-5v5.4h-3.2V94h10.4c0.8,0,1.4,0.1,2,0.4c0.5,0.3,1,0.7,1.3,1.1c0.3,0.5,0.6,1,0.8,1.6
           c0.2,0.6,0.2,1.3,0.2,2c0,1-0.3,1.9-0.8,2.6c-0.5,0.8-1.3,1.3-2.2,1.6l3,5.6h-3.7L44.6,103.6z M47.9,99.4v-1.1
           c0-0.3-0.1-0.5-0.3-0.8c-0.2-0.2-0.5-0.3-0.8-0.3h-7.2v3.2h7.2c0.3,0,0.6-0.1,0.8-0.3C47.8,99.9,47.9,99.7,47.9,99.4z" />
                    <path fill="var(--secondary-myteam-color )" d="M68.3,98.3v6.4c0,0.6-0.1,1.1-0.3,1.7c-0.2,0.5-0.5,1-0.9,1.4c-0.4,0.4-0.8,0.7-1.4,0.9
           c-0.5,0.2-1.1,0.3-1.7,0.3h-5.9c-0.6,0-1.1-0.1-1.7-0.3c-0.5-0.2-1-0.5-1.4-0.9c-0.4-0.4-0.7-0.8-0.9-1.4
           c-0.2-0.5-0.3-1.1-0.3-1.7v-6.4c0-0.6,0.1-1.1,0.3-1.7c0.2-0.5,0.5-1,0.9-1.4c0.4-0.4,0.8-0.7,1.4-0.9c0.5-0.2,1.1-0.3,1.7-0.3H64
           c0.6,0,1.1,0.1,1.7,0.3c0.5,0.2,1,0.5,1.4,0.9c0.4,0.4,0.7,0.8,0.9,1.4C68.2,97.2,68.3,97.7,68.3,98.3z M65.1,104.7v-6.4
           c0-0.3-0.1-0.5-0.3-0.8c-0.2-0.2-0.5-0.3-0.8-0.3h-5.9c-0.3,0-0.5,0.1-0.8,0.3C57.2,97.8,57,98,57,98.3v6.4c0,0.3,0.1,0.5,0.3,0.8
           c0.2,0.2,0.5,0.3,0.8,0.3H64c0.3,0,0.5-0.1,0.8-0.3S65.1,105,65.1,104.7z" />
                </g>
                <path fill="var(--secondary-myteam-color )"
                    d="M85.6,21.8c-0.6-0.4-0.5-1.2-1.4-1.1c-0.9,0-2.9-0.5-4.5,0.6c-1.6,1.1-2.4,1.1-5,1.6
         c-2.5,0.4-9,0.4-10.7,1.2c0,0-1.1-0.3-1.8-0.6c-0.7-0.3-2.9-0.6-3.8-1.4c-0.9-0.8-3.6-3.4-5.2-3.9c-1.6-0.5-2.3-0.6-2.6-0.8
         c-0.3-0.1-0.6-0.2-0.6-0.2s-0.4-1.6,0.5-2.5c0.8-0.9,1.2-1.4,1.4-2.1c0.2-0.6,1-3.1,0.7-4.3c-0.3-1.2-1-3.2-3.2-3.5
         c-2.2-0.3-3-0.4-4.6,1c-1.6,1.5-1.5,2.5-1.2,3.7c0,0,0.1,0.7-0.1,1.1c-0.2,0.4,0.1,0.5,0.1,0.9c0,0.4-0.2,0.8,0,1.5
         c0.1,0.7,0.1,1.6,0.1,1.6s-0.7,0.2-0.8,0.6c0,0-2.8-1-4.5-0.5c-1.7,0.5-2.8,0.5-4.5,0.6c-1.7,0.1-2.7,1-4.7,1.4
         c-2.1,0.4-2.2,1.5-2.7,1.2c-0.5-0.3-0.1,0.3,0.2,0.9c0.3,0.6,0.3,1.2,0.3,1.2s-3.5-0.1-6.7,1.2c-3.2,1.3-5.3,1.8-8.9,1.8
         c-3.6,0-3.3,0.2-3.8,0.5c-0.5,0.2-3.1,0.5-2.9,1c0.2,0.5,0.9,0.6,0.9,0.6s-0.9,0.6-0.6,0.8C5.1,26,6.5,25.1,7.3,25
         c0.9-0.1-0.2,0.3,0,0.9c0.2,0.7,0.8-0.1,1.9,0c1.1,0.1,2.4-0.2,3.7-0.9c1.2-0.7,5.8-1,8.4-0.8c2.6,0.2,5.5-0.5,6.6-1.3
         c0,0,0.6,0.6,1.5,0.3c0,0,3.5-1.4,4.6-1.2c1.1,0.1,2.2,0,2.2,0s0.3,1.3,0.2,2.4c-0.1,1-0.6,1.9-0.4,3c0.2,1.1-0.8,2.1-1.2,4
         c-0.4,1.9-2.3,5.2-3.4,7.3c-1,2.1-0.6,2.3-1.2,4.8c-0.2,0.7-0.4,1.5-0.6,2.4c-0.8,0.3-1.4,0.9-2,1.5c-0.7,0.5-1.3,1.1-1.9,1.7
         c-1.9,2-3.5,4.3-4.7,6.8c-0.1,0.2-0.2,0.5-0.3,0.7c-1.2,2.9-1.8,6-1.8,9.2c0,3.3,0.6,6.4,1.8,9.2c1.2,2.9,2.9,5.4,5,7.5
         c2.1,2.1,4.6,3.8,7.5,5.1c2.9,1.2,5.9,1.9,9.2,1.9c2.9,0,5.5-0.5,8.1-1.4c2.5-0.9,4.8-2.3,6.9-4l0,0.7c0,1.2,0.4,3.7,1.2,4.6
         c0.8,0.9,1.8,1.3,3,1.3c1.2,0,2.3-0.4,3.1-1.3c0.8-0.9,1.3-3.3,1.3-4.6V66.2c0.2-8.2,1.8-16-1.5-19.3l-9.6,9.1
         c2.3,2.7,3.6,6.2,3.6,10c0,8.6-7,15.6-15.6,15.6s-15.6-7-15.6-15.6c0-2.7,0.7-5.3,2-7.6c2.7-4.8,7.7-8,13.6-8c3.2,0,6.2,1,8.6,2.6
         l10.2-8.3l-15.3-1.9c0.4-0.6,0.9-1.2,0.8-1.9c-0.1-1.1-0.4-0.3-0.4-1.9c0.1-1.7,0.5-2.4,1.4-4.4c0.9-2,1.8-2.1,3.2-4.4
         c1.4-2.3,0.3-2.7,3.2-1.9c2.9,0.8,4.8,1.4,5.4,0.8c0.6-0.6,1-1,1-1s2.9,0.4,4.1,0.4c1.3,0,2-0.2,4.7-0.9c2.6-0.7,6.4-2.3,7.8-2.2
         c1.4,0.1,2.7-0.1,3.3-0.7c0.7-0.5,1.2-0.9,1.5-0.8c0.3,0.1,1.1,0.4,2.3,0.1c1.2-0.3,0.8-0.4,1-0.9C86,22.4,86.2,22.2,85.6,21.8z" />
                <image overflow="visible" width="640" height="427" [attr.xlink:href]="user?.logo"
                    transform="matrix(0.1027 0 0 0.1027 9.5533 43.6905)">
                </image>
            </g>
        </svg>
    </div>
</ng-template>
<ng-template #MOROCCO_FLAG>
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="38px"
        height="38px" viewBox="0,0,256,256">
        <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter"
            stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none"
            font-size="none" text-anchor="none" style="mix-blend-mode: normal">
            <g transform="scale(5.33333,5.33333)">
                <circle cx="24" cy="24" r="20" fill="#d50000"></circle>
                <path
                    d="M19.45,31l1.737,-5.347l-4.544,-3.305h5.621l1.736,-5.348l1.743,5.347h5.615l-4.544,3.305l1.736,5.348l-4.544,-3.305zM24.971,26.991l1.407,1.027l-0.535,-1.662zM22.157,26.356l-0.535,1.662l1.407,-1.027zM22.525,25.217l1.475,1.071l1.469,-1.071l-0.56,-1.724h-1.818zM20.153,23.493l1.407,1.021l0.33,-1.021zM26.11,23.493l0.33,1.021l1.413,-1.021zM23.458,22.347h1.083l-0.541,-1.662z"
                    fill="#1b5e20"></path>
            </g>
        </g>
    </svg>
</ng-template>